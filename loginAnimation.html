<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="Join icon" href="assets/img/joinDark.png" type="image/x-icon" />
    <title>Log in</title>
  </head>
  <body onload="logInit()">
    <header>
      <div>
        <img
          class="joinIcon hideElements"
          src="/assets/img/joinDark.png"
          alt="Join Icon"
        />
        <img
          class="animatedImage"
          src="/assets/img/joinDark.png"
          alt="Animated Join Icon"
        />
        <div class="animatedImageContainer"></div>
      </div>

      <div class="signUPContainer">
        <p class="singupText">Not a Join user?</p>
        <button class="signUp" onclick="redirectToSignup()">Sign up</button>
      </div>
    </header>
    <div class="justifyLogInContainer">
      <div class="logInContainer">
        <h2 class="logIntText">Log in</h2>

        <div class="logInInput">
          <input
            id="logInEmailInput"
            class="emailInput"
            type="email"
            placeholder="Email"
          />
          <input
            id="logInPasswordInput"
            class="passwordInput"
            type="password"
            placeholder="Password"
          />
        </div>
        <div class="rememberMe">
          <img
            class="checkbox"
            src="/assets/img/emptyCheckbox.png"
            alt="Checkbox"
          />
          <p>Remember me</p>
        </div>
        <div class="logInButtons">
          <button onclick="finUser()" class="logIn">Log in</button>
          <button class="GuestLogIn">Guest Log in</button>
        </div>
      </div>
    </div>

    <footer>
      <a href="/privacyPolicyNoLogin.html" target="_blank">Privacy Policy</a>
      <a href="/legalNoticeNoLogin.html" target="_blank">Legal notice</a>
    </footer>
    <script src="/js/signUp.js"></script>
    <script>
            async function logInit() {
              await loadUserData();
            }

      function finUser() {
        let emailInput = document.getElementById("logInEmailInput");
        let passwordInput = document.getElementById("logInPasswordInput");

        if (emailInput && passwordInput) {
          const email = emailInput.value;
          const password = passwordInput.value;

          const user = users.find((userEmail) => userEmail.email === email);

          if (user && user.password === password) {
            console.log("login erfolglreich: Willkomen" + user.name);
          } else {
            console.log("falsch");
          }
        } else
          console.log("Eingabefelder nicht gefunden");
        }
      
    </script>
    
  </body>
</html>
